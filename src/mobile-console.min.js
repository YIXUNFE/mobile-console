"use strict";!function(){function e(e){function n(){for(var e='<ul class="tabs-list">',n="",c=0,s=i.length,r=null;s>c;c++)r=i[c],e+='<li class="tab-item tab-'+r.id+'"><span>'+r.title+"</span></li>",n+='<div class="panel-item panel-'+r.id+'"></div>';e+="</ul>",p=p.replace("{{tabs}}",e).replace("{{panels}}",n),u.id="mobile-console-wrapper",u.innerHTML=p,document.body.appendChild(u),d=u.querySelectorAll(".tab-item"),u.querySelector(".mc-clear").addEventListener("click",t),u.querySelector(".mc-close").addEventListener("click",l),Array.prototype.map.call(d,function(e){e.addEventListener("click",function(){o(i[Array.prototype.indexOf.call(u.querySelectorAll(".tab-item"),this)].id)})}),a(),i.map(function(e){e.isReady=!0,e.initFn(u.querySelector(".tab-"+e.id),u.querySelector(".panel-"+e.id),e)}),o(i[0].id)}function o(e){for(var n=0,o=i.length;o>n;n++)if(i[n].id===e){r=i[n];break}Array.prototype.map.call(u.querySelectorAll(".tab-item"),function(e){e.className=e.className.replace(/(\s*|^)current(\s*|$)/g," ")}),u.querySelector(".tab-"+r.id).className+=" current",Array.prototype.map.call(u.querySelectorAll(".panel-item"),function(e){e.className=e.className.replace(/(\s*|^)current(\s*|$)/g," ")}),u.querySelector(".panel-"+r.id).className+=" current"}function t(){r&&r.clear?r.clear(u.querySelector(".panel-item.current")):u.querySelector(".panel-item.current").innerHTML=""}function l(){u.className+=" close"}function c(){u.className=u.className.replace(/(\s*|^)close(\s*|$)/g," ")}function s(e){e.length?i=i.concat(e):i.push(e),n()}function a(){var e=0;setTimeout(function(){Array.prototype.map.call(u.querySelectorAll(".tab-item"),function(n){e+=n.clientWidth+1}),u.querySelector(".tabs-list").style.width=e+"px"},0)}var i=[],r=null,u=document.createElement("div"),d=null,p='<div class="mc-tabs">{{tabs}}</div>          <div class="mc-panels">{{panels}}</div>          <div class="mc-bottom"><ul class="bottom-list"><div class="mc-clear bottom-item">清除</div><div class="mc-close bottom-item">关闭</div></ul></div>';s(e),this.open=c,this.close=l,this.getActivePanel=function(){return r||i[0]}}function n(e,n,o,t){if(this.id=e,this.title=n,this.initFn=o,t){var l="";for(l in t)this[l]=t[l]}}function o(e){a="[object Array]"===Object.prototype.toString.call(e)?e:[]}function t(){var o=[],t=null,c=null,s=l();c=s.concat(a),c.map(function(e){o.push(new n(e.id,e.title,e.initFn,e.extend))}),t=new e(o),i.bone=t,delete i.init}function l(){var e=[];return e.push(c()),e.push(s()),e}function c(){function e(e){window.console={console:window.console},["log","error","warn","debug","info"].forEach(function(o){window.console[o]=function(){var t=e.innerHTML+n(arguments,o);e.innerHTML=t,window.console.console[o].apply(window.console.console,Array.prototype.slice.call(arguments))}})}function n(e,n){var o='<div class="'+n+' console-log">',t=0,l=e.length,c="";for(t;l>t;t++)c=e[t],o+='<span class="'+typeof c+'">'+c+"</span>";return o+="</div>"}function o(){window.onerror=function(e,n,o,t,l){console.error("Error: "+e+" Script: "+n+" Line: "+o+" Column: "+t+" StackTrace: "+l)}}return{id:"console",title:"控制台",initFn:function(n,t){e(t),o()}}}function s(){function e(e){function n(n){Array.prototype.map.call(e.querySelectorAll(".resource-tab"),function(e){e.className=e.className.replace(/(\s*|^)current(\s*|$)/g," ")}),e.querySelector(".tab-"+n).className+=" current",Array.prototype.map.call(e.querySelectorAll(".resource-panel"),function(e){e.className=e.className.replace(/(\s*|^)current(\s*|$)/g," ")}),e.querySelector("."+n+"-panel").className+=" current",o=n}var l='<div class="resource-boxes">          <div class="resource-tabs">            <div class="resource-tab tab-cookie">Cookie</div>            <div class="resource-tab tab-localstorage">Local Storage</div>            <div class="resource-tab tab-sessionstorage">Session Storage</div>          </div>          <div class="resource-panels">            <div class="cookie-panel resource-panel">{{cookie}}</div>            <div class="localstorage-panel resource-panel">{{localStorage}}</div>            <div class="sessionstorage-panel resource-panel">{{sessionStorage}}</div>          </div>        </div>',c="",s="",a="",i="";document.cookie.split(/\s*;\s*/).forEach(function(e){""!==e&&(e=e.split(/\s*=\s*/),t.push(e[0]),c+='<li class="item"><span class="key">'+e[0]+'</span><span class="value">'+(e[1]||"")+"</span></li>")});for(i in window.localStorage)s+='<li class="item"><span class="key">'+i+'</span><span class="value">'+window.localStorage[i]+"</span></li>";for(i in window.sessionStorage)a+='<li class="item"><span class="key">'+i+'</span><span class="value">'+window.sessionStorage[i]+"</span></li>";e.innerHTML=l.replace("{{cookie}}",'<ul class="list">'+c+"</ul>").replace("{{localStorage}}",'<ul class="list">'+s+"</ul>").replace("{{sessionStorage}}",'<ul class="list">'+a+"</ul>"),n("cookie"),e.querySelector(".tab-cookie").addEventListener("click",function(){n("cookie")}),e.querySelector(".tab-localstorage").addEventListener("click",function(){n("localStorage")}),e.querySelector(".tab-sessionstorage").addEventListener("click",function(){n("sessionStorage")})}function n(e){window.confirm("确定清除全部 "+o+" 吗？")&&l[o](e)}var o=null,t=[],l={cookie:function(e){t.map(function(e){document.cookie=e+"=; expires=-1"}),t=[],e.querySelector(".cookie-panel").innerHTML=""},localStorage:function(e){window.localStorage.clear(),e.querySelector(".localstorage-panel").innerHTML=""},sessionStorage:function(e){window.sessionStorage.clear(),e.querySelector(".sessionstorage-panel").innerHTML=""}};return{id:"resource",title:"资源",initFn:function(n,o){e(o)},extend:{clear:n}}}var a=[],i={init:t,addPanel:o};"function"==typeof define&&define.amd?define([],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:window.mobileConsole=i}();